(this.webpackJsonpapex2021=this.webpackJsonpapex2021||[]).push([[0],{111:function(e,t,n){},143:function(e,t){},147:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),s=n.n(c),i=n(43),o=(n(110),n(111),8),d="/apex2021",l=n(103),u=n(1),j=n(14),h=n(5),b=function(e,t){if(e.hand.length>=o)return!1;if(e.deck.length<=0)for(;e.discard.length>0;)e.deck.push(e.discard.pop());return!(e.deck.length<=0)&&(e.hand.push(e.deck.pop()),!0)},O={displayName:null,image:null,description:"<FLAVOR>",moneyCost:0,energyCost:0,producesGrowthMindset:0,producesMoney:0,producesAttention:0,producesEnergy:0,drawsCards:0,discardsCards:0,gainsCards:[],forgetsOnDiscard:!1,forgetsSelf:!1,forgetsCards:0,perform:function(e,t){if(e.energy<=0)return!1;e.energy--,e.growthMindsetPoints=Math.min(5,e.growthMindsetPoints+this.producesGrowthMindset),e.money+=this.producesMoney,e.attention+=this.producesAttention,e.energy+=this.producesEnergy;for(var n=0;n<this.drawsCards;n++)b(e);return this.discardsCards>0&&e.hand.length>0&&(e.cardsLeftToDiscard=this.discardsCards,t.events.setStage("discard")),this.forgetsCards>0&&e.hand.length>0&&(e.cardsLeftToForget=this.forgetsCards,t.events.setStage("forget")),this.gainsCards.forEach((function(t){return e.discard.push(t)})),!0},buy:function(e,t){return!(e.attention<=0||e.money<this.moneyCost||e.energy<this.energyCost)&&(e.attention--,e.money-=this.moneyCost,e.energy-=this.energyCost,e.discard.push(this.id),!0)}},f=[{id:"Card01",displayName:"Card1",description:"Make sure to play this every turn!",producesGrowthMindset:1},{id:"Card02",displayName:"Card2",description:"Getting money lets you buy stuff.",producesMoney:1,producesEnergy:1},{id:"Card03",displayName:"Card3",description:"Sometimes you just want to forget everything.",moneyCost:2,forgetsSelf:!0,forgetsCards:o},{id:"Card04",displayName:"Card4",description:"If you play this, you'll have to pick another card in your hand to discard.",moneyCost:2,drawsCards:3,discardsCards:1},{id:"Card05",displayName:"Card5",description:"Doing too much can make you tired.",moneyCost:2,producesGrowthMindset:1,producesMoney:1,producesEnergy:1,drawsCards:1,gainsCards:["fatigue"]},{id:"Card06",displayName:"Card6",description:"More energy means you can play more actions!",moneyCost:3,producesEnergy:2,drawsCards:1},{id:"Card07",displayName:"Card7",description:"IDK",moneyCost:3},{id:"Card08",displayName:"Card8",description:"IDK",moneyCost:4},{id:"Card09",displayName:"Card9",description:"More money",moneyCost:4,producesMoney:2,producesEnergy:1},{id:"Card10",displayName:"Card10",description:"That's a lot of energy.",moneyCost:4,producesAttention:1,producesEnergy:4},{id:"Card11",displayName:"Card11",description:"Maybe there are better options.",moneyCost:5,producesEnergy:1,drawsCards:2},{id:"Card12",displayName:"Card12",description:"More more money",moneyCost:6,producesMoney:3,producesEnergy:1},{id:"fatigue",displayName:"Fatigue",description:"Better rest up or I'll just get even more tired later.",forgetsSelf:!0},{id:"summerHomework",displayName:"Summer Homework",description:"So tedious...",producesGrowthMindset:1,forgetsSelf:!0,forgetsOnDiscard:!0}].map((function(e){return Object(u.a)(Object(u.a)({},O),e)})).reduce((function(e,t){return e[t.id]=t,e}),{}),p=n(18),m={displayName:null,image:null,description:"<FLAVOR>",producesStatuses:{},addsCardsToShop:[],addsCardsToDiscard:[],options:{},apply:function(e,t){for(var n=0,a=Object.entries(this.producesStatuses);n<a.length;n++){var r=Object(j.a)(a[n],2),c=r[0],s=r[1];e.statuses[c]=Math.max(e.statuses[c]||0,s)}var i,o=Object(p.a)(this.addsCardsToShop);try{for(o.s();!(i=o.n()).done;){var d=i.value;e.actionShop.push(d)}}catch(b){o.e(b)}finally{o.f()}var l,u=Object(p.a)(this.addsCardsToDiscard);try{for(u.s();!(l=u.n()).done;){var h=l.value;e.discard.push(h)}}catch(b){u.e(b)}finally{u.f()}}},g=[{id:"SummerStart",image:"middle_school_graduation.png",displayName:"Congratulations",description:"After a long year, you've finally graduated from middle school.",producesStatuses:{inspired:2,energized:2},addsCardsToDiscard:["summerHomework","summerHomework","Card01"]},{id:"SchoolStart",displayName:"High School Begins",description:"And just like that High School begins.",image:"welcome_back.png",addsCardsToDiscard:["Card02","Card02","Card02","Card02","Card02","Card01","Card01"],addsCardsToShop:["Card02","Card02","Card04","Card05"]}].map((function(e){return Object(u.a)(Object(u.a)({},m),e)})).reduce((function(e,t){return e[t.id]=t,e}),{}),x=n(11),v=n(13),y=function(){function e(t){Object(x.a)(this,e),this.eventsByDay=t||{}}return Object(v.a)(e,[{key:"addEvent",value:function(e,t){e in this.eventsByDay||(this.eventsByDay[e]=[]),this.eventsByDay[e].push(t)}},{key:"getEvents",value:function(e){return e in this.eventsByDay?this.eventsByDay[e]:[]}}]),e}(),C={displayName:null,image:null,description:"<FLAVOR>",apply:function(e,t){}},w=[{id:"energized",displayName:"Energized",description:"Gain an extra energy at the start of each turn.",apply:function(e,t){e.energy+=1}},{id:"inspired",displayName:"Inspired",description:"Nullify the usual loss of growth mindset at the start of each turn.",apply:function(e,t){e.growthMindsetPoints=Math.min(5,e.growthMindsetPoints+1)}}].map((function(e){return Object(u.a)(Object(u.a)({},C),e)})).reduce((function(e,t){return e[t.id]=t,e}),{}),k={actionShop:[].sort(),deck:[],hand:[],discard:[],growthMindsetPoints:1,cardsLeftToDiscard:0,cardsLeftToForget:0,statuses:{},currentEvent:null,backgroundImage:null,schedule:{1:["SummerStart"],3:["SchoolStart"]}},S={money:0,attention:1,energy:1};var N={setup:function(e,t){return Object(u.a)(Object(u.a)({},k),S)},moves:{performAction:function(e,t,n){var a=e.hand[n],r=f[a];if(!r.perform(e,t))return h.t;e.hand.splice(n,1),r.forgetsSelf||e.discard.push(a)},buyAction:function(e,t,n){var a=e.actionShop[n];if(!f[a].buy(e,t))return h.t;e.actionShop.splice(n,1)},endTurn:function(e,t){t.events.endTurn()}},turn:{activePlayers:{all:"showEvent"},onBegin:function(e,t){return function(e,t){var n=new y(e.schedule).getEvents(t.turn);for(n.forEach((function(n){g[n].apply(e,t),e.currentEvent=n})),0===n.length&&t.events.endStage();e.hand.length>0;){var a=e.hand.pop();f[a].forgetsOnDiscard||e.discard.push(a)}for(var r=Math.min(5,e.growthMindsetPoints),c=0;c<r;c++)b(e);Object.assign(e,S),e.growthMindsetPoints--;for(var s=0,i=Object.entries(e.statuses);s<i.length;s++){var o=Object(j.a)(i[s],2),d=o[0],l=o[1];console.log(d,l),l>0?(w[d].apply(e,t),e.statuses[d]--):delete e.statuses[d]}}(e,t)},onEnd:function(e,t){e.growthMindsetPoints<=0&&t.events.endGame("fixed-mindset")},stages:{showEvent:{moves:{chooseOption:function(e,t,n){},dismiss:function(e,t){e.backgroundImage=g[e.currentEvent].image,e.currentEvent=null,t.events.endStage()}}},discard:{moves:{discardAction:function(e,t,n){console.log(e.cardsLeftToDiscard);var a=e.hand[n];e.hand.splice(n,1),e.discard.push(a),0===e.hand.length?e.cardsLeftToDiscard=0:e.cardsLeftToDiscard--,e.cardsLeftToDiscard<=0&&t.events.endStage()}}},forget:{moves:{forgetAction:function(e,t,n){console.log(e.cardsLeftToForget),e.hand.splice(n,1),0===e.hand.length?e.cardsLeftToForget=0:e.cardsLeftToForget--,e.cardsLeftToForget<=0&&t.events.endStage()}}}}}},E=n(8),I=n.n(E),M=n(12),D=n(164),A=n(162),T=n(155),L=n(157),P=n(158),G=n(99),F=r.a.createContext({}),B=n(153),K=n(154),H=n(2),z={0:"danger",1:"danger",2:"danger",3:"warning",4:"success",5:"info"};var J=function(){var e=Object(a.useContext)(F),t=e.G,n=e.ctx,r=(e.moves,t.growthMindsetPoints),c=t.money,s=t.attention,i=t.energy;return Object(H.jsxs)(B.a,{responsive:!0,bordered:!0,id:"player-info",children:[Object(H.jsx)("thead",{children:Object(H.jsxs)("tr",{className:"info-label-row",children:[Object(H.jsx)("th",{children:"Day #"}),Object(H.jsx)("th",{children:"Growth Mindset"}),Object(H.jsx)("th",{children:"Money"}),Object(H.jsx)("th",{children:"Attention"}),Object(H.jsx)("th",{children:"Energy"})]})}),Object(H.jsx)("tbody",{children:Object(H.jsxs)("tr",{className:"info-data-row",children:[Object(H.jsx)("td",{children:Object(H.jsx)(K.a,{variant:"dark",children:n.turn})}),Object(H.jsx)("td",{children:Object(H.jsx)(T.a,{now:(100*r/5).toPrecision(3),label:r,variant:z[r],animated:5===r})}),Object(H.jsx)("td",{children:Object(H.jsx)(K.a,{variant:"warning",children:c})}),Object(H.jsx)("td",{children:Object(H.jsx)(K.a,{variant:"primary",children:s})}),Object(H.jsx)("td",{children:Object(H.jsx)(K.a,{variant:"success",children:i})})]})})]})},V=n(10),R=n(166),$=n(167),_=n(159),U=n(160),Z=n(161),Y=n(80),q=n(156),Q=n(163);function W(e){return e+" "+(e>1?"cards":"card")}var X=function(e){var t=e.description,n=e.runEffect,r=e.className,c=e.passthrough;return Object(a.useEffect)((function(){n&&n()})),Object(H.jsx)(q.a,Object(u.a)(Object(u.a)({id:"keyword-description",className:r},c),{},{children:t}))},ee=function(e){var t=e.value,n=e.description,a=e.tooltipClassName,r=e.runEffect;return Object(H.jsx)(Q.a,{placement:"right",overlay:function(e){return Object(H.jsx)(X,{description:n,className:a,runEffect:r,passthrough:e})},children:Object(H.jsx)("span",{className:"card-keyword",children:t})})},te=function(e){var t=e.number;return Object(H.jsx)(ee,{value:"Discard "+t,description:"Place cards from your hand into your discard pile until you have placed "+W(t)+" or your hand is empty."})},ne=function(e){var t=e.number;return Object(H.jsx)(ee,{value:"Draw "+t,description:"Place "+W(t)+" from your deck into your hand. If your deck is empty, your discard pile will automatically be shuffled into your deck."})},ae=function(e){var t=e.number;return Object(H.jsx)(ee,{value:"Forget "+t,description:"Permanently remove cards from your hand until you have removed "+W(t)+" or your hand is empty."})},re=function(){return Object(H.jsx)(ee,{value:"Forget Self",description:"Permanently remove this card from your hand upon being played."})},ce=function(e){var t=e.cardId,n=e.renderCard,r=e.tooltipClassName,c=e.runEffect,s=Object(a.useContext)(F).actions;console.log(s);var i=n(Object(u.a)({cardId:t,onClick:function(e){}},s[t]));return Object(H.jsx)(ee,{value:"Gain "+s[t].displayName,description:i,tooltipClassName:r,runEffect:c})},se=function(e){var t=e.number;return Object(H.jsx)(ee,{value:"+"+t+" Growth Mindset",description:"Growth Mindset represents the number of cards you can draw at the beginning of the next turn. You lose one point per turn, and Growth Mindset is capped at 5."})},ie=function(e){return Object(H.jsx)(ee,{value:"#YOLO",description:"If this card remains in your hand at the end of the turn, it will be permanently removed from your deck."})};function oe(e){var t=e.cardId,n=Object(a.useContext)(F).actions;return console.log(n),Object(H.jsx)(de,Object(u.a)(Object(u.a)({},e),n[t]))}function de(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],c=n[1],s=(e.cardId,e.onClick),i=e.ref,o=e.gameStage,d=e.displayName,l=e.image,u=e.description,h=e.moneyCost,b=e.energyCost,O=e.producesGrowthMindset,f=e.producesMoney,p=e.producesAttention,m=e.producesEnergy,g=e.drawsCards,x=e.discardsCards,v=e.gainsCards,y=e.forgetsOnDiscard,C=e.forgetsSelf,w=e.forgetsCards;return Object(a.useEffect)((function(){Object(Y.run)("card-image")})),Object(H.jsxs)(R.a,{ref:i,onClick:s,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},bg:"discard"===o||"forget"===o?"danger":null,border:r?"warning":"secondary",className:"action-card",children:[Object(H.jsx)(R.a.Header,{children:Object(H.jsx)(L.a,{fluid:!0,children:Object(H.jsxs)(P.a,{children:[Object(H.jsx)(G.a,{xs:4,className:"cost-label",children:"Makes:"}),Object(H.jsx)(G.a,{xs:4}),Object(H.jsx)(G.a,{xs:1,children:Object(H.jsx)(K.a,{variant:"warning",children:f})}),Object(H.jsx)(G.a,{xs:1,children:Object(H.jsx)(K.a,{variant:"primary",children:p})}),Object(H.jsx)(G.a,{xs:1,children:Object(H.jsx)(K.a,{variant:"success",children:m})})]})})}),Object(H.jsxs)(R.a.Body,{children:[Object(H.jsx)(R.a.Title,{children:d}),Object(H.jsx)(R.a.Img,{src:null!=l?l:"holder.js/256x128",className:"card-image"}),Object(H.jsxs)($.a,{className:"extra-rules",children:[O>0&&Object(H.jsx)($.a.Item,{children:Object(H.jsx)(se,{number:O})},"growth-mindset"),g>0&&Object(H.jsx)($.a.Item,{children:Object(H.jsx)(ne,{number:g})},"draws-cards"),x>0&&Object(H.jsx)($.a.Item,{children:Object(H.jsx)(te,{number:x})},"discards-cards"),y&&Object(H.jsx)($.a.Item,{children:Object(H.jsx)(ie,{})},"forgets-on-discard"),C&&Object(H.jsx)($.a.Item,{children:Object(H.jsx)(re,{})},"forgets-self"),w>0&&Object(H.jsx)($.a.Item,{children:Object(H.jsx)(ae,{number:w})},"forgets-cards"),v.map((function(e){return Object(H.jsx)($.a.Item,{children:Object(H.jsx)(ce,{cardId:e,renderCard:de,tooltipClassName:"card-preview",runEffect:function(){return Object(Y.run)("card-image")}})},"gains-"+e)}))]}),Object(H.jsx)(R.a.Text,{className:"flavor",children:u})]}),Object(H.jsx)(R.a.Footer,{children:Object(H.jsx)(L.a,{fluid:!0,children:Object(H.jsxs)(P.a,{children:[Object(H.jsx)(G.a,{xs:4,className:"cost-label",children:"Costs:"}),Object(H.jsx)(G.a,{xs:4}),Object(H.jsx)(G.a,{xs:1,children:Object(H.jsx)(K.a,{variant:"warning",children:h})}),Object(H.jsx)(G.a,{xs:1}),Object(H.jsx)(G.a,{xs:1,children:Object(H.jsx)(K.a,{variant:"success",children:b})})]})})})]})}function le(e){var t=e.actionsList,n=e.className,a=e.onClick,r=e.gameStage,c=t.map((function(e,t){return Object(H.jsx)(oe,{cardId:e,onClick:function(){return a(t)},gameStage:r},t)}));return Object(H.jsx)(_.a,{className:"action-list-"+n,children:c.length>0?c:Object(H.jsx)(K.a,{children:Object(H.jsx)("h1",{children:"No Actions Available"})})})}var ue=function(){var e=Object(a.useContext)(F),t=e.G,n=e.ctx,r=e.moves,c=t.hand,s=t.actionShop,i=t.deck,o=t.discard,d=function(e){},l=n.activePlayers&&"discard"===n.activePlayers[n.playOrderPos],u=n.activePlayers&&"forget"===n.activePlayers[n.playOrderPos],h=l?"discard":u?"forget":null,b={Hand:{actions:c,onClick:l?r.discardAction:u?r.forgetAction:r.performAction},Shop:{actions:s,onClick:l?d:r.buyAction},Deck:{actions:Object(V.a)(i).sort(),onClick:d},"Discard Pile":{actions:o,onClick:d}},O=Object(a.useState)("Hand"),f=Object(j.a)(O,2),p=f[0],m=f[1],g=Object.keys(b).map((function(e){return Object(H.jsx)(U.a,{eventKey:e,title:e,children:Object(H.jsx)(le,{actionsList:b[e].actions,onClick:b[e].onClick,className:e,gameStage:h})},e)}));return Object(H.jsx)("div",{id:"game-tabs",children:Object(H.jsxs)(Z.a,{id:"actions",activeKey:p,onSelect:function(e){return m(e)},children:[g,Object(H.jsx)(U.a,{eventKey:"next-turn",title:"Next Turn",children:Object(H.jsx)(A.a,{onClick:function(){r.endTurn(),m("Hand")},className:"confirm-next-turn",children:"Confirm End Turn"})},"next-turn")]})})};function je(e){var t=Object(a.useContext)(F),n=t.G,r=t.moves,c=n.currentEvent in g;if(!c)return Object(H.jsx)(H.Fragment,{});var s=function(){return r.dismiss()},i=g[n.currentEvent],o=i.displayName,l=i.description,u=i.image,j={backgroundImage:null==u?null:"url(".concat(d,"/").concat(u,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"};return Object(H.jsxs)(D.a,{size:"lg",show:c,onHide:s,style:j,className:"event-modal",centered:!0,children:[Object(H.jsx)(D.a.Header,{children:Object(H.jsx)(D.a.Title,{children:o})}),Object(H.jsx)(D.a.Body,{children:l}),Object(H.jsx)(D.a.Footer,{children:Object(H.jsx)(A.a,{onClick:s,children:"Continue"})})]})}var he=function(e){var t=e.count,n=e.total,a=e.percent,r=e.startGame;return Object(H.jsxs)("div",{id:"loading",children:[Object(H.jsx)(T.a,{now:a}),Object(H.jsx)("hr",{}),Object(H.jsx)("p",{children:t<n?"Loaded ".concat(t,"/").concat(n," assets..."):Object(H.jsx)(A.a,{onClick:r,children:"New Game"})})]})},be=function(){for(var e={},t=0,n=Object.values(f);t<n.length;t++){var a=n[t];null!==a.image&&(e[a.image]="img")}for(var r=0,c=Object.values(g);r<c.length;r++){var s=c[r];null!==s.image&&(e[s.image]="img")}return e}(),Oe=function(e){var t=Object(a.useState)(!0),n=Object(j.a)(t,2),r=n[0],c=n[1],s=Object(a.useReducer)((function(e,t){switch(t.type){case"increment":return{count:e.count+1,total:e.total,percent:100*(e.count+1)/e.total};default:throw new Error("Unsupported action type ".concat(t.type))}}),{count:0,total:Object.keys(be).length,percent:0}),i=Object(j.a)(s,2),o=i[0],l=i[1],h=function(){var e=Object(M.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.keys(t).map((function(e){return new Promise((function(n,a){if("img"===t[e]){var r=new Image;r.src="".concat(d,"/").concat(e),r.onload=function(){l({type:"increment"}),console.log("Loaded ".concat(r.src)),n(r)},r.onerror=function(){a("Could not load ".concat(r.src))}}}))}));case 2:return n=e.sent,e.next=5,Promise.all(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){h(be)}),[]);var b=e.G,O=e.ctx,p=e.moves,m=e.match,g=Object(a.useState)(f),x=Object(j.a)(g,2),v=x[0],y=x[1];Object(a.useEffect)((function(){var e=localStorage.getItem("saveFiles"),t=JSON.parse(e);if(t&&m.params.configId){console.log(t);var n=t[m.params.configId];y(n.actions)}}),[m]);var C=b.backgroundImage,w={backgroundImage:null==C?null:"url(".concat(d,"/").concat(C,")"),backgroundSize:"cover"};return r?Object(H.jsx)(he,Object(u.a)({startGame:function(){return c(!1)}},o)):Object(H.jsxs)(F.Provider,{value:{G:b,ctx:O,moves:p,actions:v},children:[Object(H.jsx)("div",{style:w,id:"bg-container"}),Object(H.jsxs)("div",{id:"game-wrapper",children:[Object(H.jsxs)(L.a,{fluid:!0,id:"game-container",children:[Object(H.jsx)(P.a,{children:Object(H.jsx)(G.a,{children:Object(H.jsx)(J,{})})}),Object(H.jsx)(P.a,{children:Object(H.jsx)(G.a,{children:Object(H.jsx)(ue,{})})})]}),Object(H.jsx)(je,{})]})]})},fe=n(21),pe=n(100),me=n.n(pe),ge=n(165),xe=n(104);function ve(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,(function(e){return e.toUpperCase()}))}function ye(e){for(var t=e.actionId,n=e.actions,a=e.updateActions,r=n[t],c={},s=function(){var e=o[i];c[e]=me.a.debounce((function(r){var c,s=n[t][e];switch(typeof s){case"string":c=r.target.value;break;case"number":c=parseInt(r.target.value);break;case"boolean":c=r.target.checked;break;case"object":if(""===r.target.value)c=[];else{var i=s.indexOf(r.target.value);i<0?c=[].concat(Object(V.a)(s),[r.target.value]):(c=Object(V.a)(s)).splice(i,1)}break;default:throw new Error("Don't know how to serialize ".concat(e," for value ").concat(r.target.value))}var o=Object(u.a)(Object(u.a)({},n),Object(fe.a)({},t,Object(u.a)(Object(u.a)({},n[t]),{},Object(fe.a)({},e,c))));a(o)}),300)},i=0,o=Object.keys(r);i<o.length;i++)s();var d=Object.entries(r).filter((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return null!==a&&"function"!==typeof a&&"id"!==n})).map((function(e){var a,s=Object(j.a)(e,2),i=s[0],o=s[1];switch(typeof o){case"string":a=Object(H.jsx)(ge.a.Control,{type:"text",defaultValue:r[i],onChange:c[i]});break;case"number":a=Object(H.jsx)(ge.a.Control,{type:"range",defaultValue:r[i],max:10,onChange:c[i]});break;case"boolean":a=Object(H.jsx)(ge.a.Check,{type:"checkbox",defaultValue:r[i],onChange:c[i]});break;case"object":a=Object(H.jsx)(ge.a.Control,{as:"select",onChange:c[i],value:r.gainsCards,multiple:!0,children:Object.keys(n).map((function(e){return Object(H.jsx)("option",{children:e},e)}))});break;default:throw new Error("Unrecognized value type ".concat(o," for ").concat(i,"."))}return Object(H.jsxs)(ge.a.Group,{as:P.a,controlId:"".concat(t,".").concat(i),children:[Object(H.jsx)(ge.a.Label,{column:!0,sm:4,children:ve(i)}),Object(H.jsx)(G.a,{sm:8,children:a})]},"edit-".concat(i))}));return Object(H.jsx)(H.Fragment,{children:d})}function Ce(e){var t=e.actions,n=e.updateActions,a=Object.entries(t).map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(H.jsx)(xe.a.Item,{children:Object(H.jsx)(xe.a.Link,{eventKey:n,children:a.id})},n)})),r=Object.entries(t).map((function(e){var a=Object(j.a)(e,2),r=a[0],c=a[1];return Object(H.jsxs)(U.a.Pane,{eventKey:r,children:[Object(H.jsx)("div",{id:"card-editor-card-container",children:Object(H.jsx)(de,Object(u.a)({cardId:r,onClick:function(){}},c))}),Object(H.jsx)(ye,{actionId:r,actions:t,updateActions:n})]},r)}));return Object(H.jsx)(U.a.Container,{defaultActiveKey:Object.keys(t)[0],children:Object(H.jsxs)(P.a,{children:[Object(H.jsx)(G.a,{id:"action-nav",sm:2,children:Object(H.jsxs)(xe.a,{variant:"pills",className:"flex-column",children:[a,Object(H.jsx)(A.a,{onClick:function(){var e="Card"+(Object.keys(t).length+1),a=Object(u.a)(Object(u.a)({},t),{},Object(fe.a)({},e,Object(u.a)(Object(u.a)({},O),{},{id:e,displayName:e})));n(a)},variant:"light",children:"+"})]})}),Object(H.jsx)(G.a,{sm:8,children:Object(H.jsx)(U.a.Content,{children:r})})]})})}function we(e){var t=e.actions,n=e.updateActions,r=e.events,c=e.updateEvents,s=e.schedule,o=e.updateSchedule,d=Object(a.useState)({}),l=Object(j.a)(d,2),h=l[0],b=l[1],O=Object(a.useState)("Some Name"),f=Object(j.a)(O,2),p=f[0],m=f[1];Object(a.useEffect)((function(){var e=localStorage.getItem("saveFiles"),t=JSON.parse(e);t&&b(t)}),[]),Object(a.useEffect)((function(){var e=JSON.stringify(h);localStorage.setItem("saveFiles",e)}),[h]);var g=function(){var e=Object.keys(h).length,n=Object(u.a)(Object(u.a)({},h),{},Object(fe.a)({},e,{name:p,actions:t,events:r,schedule:s,timestamp:Date.now()}));console.log(n),b(n)},x=Object(H.jsxs)("tr",{id:"unsaved-row",children:[Object(H.jsx)("td",{children:Object.keys(h).length}),Object(H.jsx)("td",{children:Object(H.jsx)(ge.a.Control,{type:"text",value:p,onChange:function(e){return m(e.target.value)}})}),Object(H.jsx)("td",{children:"Now"}),Object(H.jsx)("td",{children:Object(H.jsx)(A.a,{onClick:g,children:"Save"})}),Object(H.jsx)("td",{children:"Save to export"}),Object(H.jsx)("td",{children:"Save to launch"})]},"unsaved-row"),v=Object.entries(h).map((function(e){var t=Object(j.a)(e,2),a=t[0],r=t[1];return Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:a}),Object(H.jsx)("td",{children:r.name}),Object(H.jsx)("td",{children:new Date(r.timestamp).toLocaleString()}),Object(H.jsx)("td",{children:Object(H.jsx)(A.a,{onClick:function(){return function(e){g();var t=h[e];n(t.actions),c(t.events),o(t.schedule)}(a)},children:"Load"})}),Object(H.jsx)("td",{children:Object(H.jsx)(A.a,{onClick:function(){return function(e){navigator.clipboard.writeText(JSON.stringify(h[e]))}(a)},children:"Copy to Clipboard"})}),Object(H.jsx)("td",{children:Object(H.jsx)(i.b,{to:"/load-config/".concat(a),target:"_blank",children:"Launch Game"})})]},"save-".concat(a))})).reverse();return Object(H.jsxs)(B.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(H.jsx)("thead",{children:Object(H.jsxs)("tr",{children:[Object(H.jsx)("th",{children:"#"}),Object(H.jsx)("th",{children:"Name"}),Object(H.jsx)("th",{children:"Date"}),Object(H.jsx)("th",{children:"Save/Load"}),Object(H.jsx)("th",{children:"Export"}),Object(H.jsx)("th",{children:"Launch"})]})}),Object(H.jsxs)("tbody",{children:[x,v]})]})}var ke=function(e){var t=Object(a.useState)(Object(u.a)({},f)),n=Object(j.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(Object(u.a)({},g)),i=Object(j.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)({}),h=Object(j.a)(l,2),b=h[0],O=h[1];return Object(H.jsx)(F.Provider,{value:{actions:r},children:Object(H.jsxs)(Z.a,{id:"editor-root",defaultActiveKey:"actions",children:[Object(H.jsx)(U.a,{eventKey:"actions",title:"Actions",children:Object(H.jsx)(Ce,{actions:r,updateActions:c})},"edit-actions"),Object(H.jsx)(U.a,{eventKey:"events",title:"Events"},"edit-events"),Object(H.jsx)(U.a,{eventKey:"schedule",title:"Schedule"},"edit-schedule"),Object(H.jsx)(U.a,{eventKey:"test",title:"Test Changes",children:Object(H.jsx)(we,{actions:r,updateActions:c,events:o,updateEvents:d,schedule:b,updateSchedule:O})},"test")]})})},Se=n(16),Ne=Object(l.a)({game:N,board:Oe,numPlayers:1}),Ee=function(e){return Object(H.jsxs)(Se.c,{children:[Object(H.jsx)(Se.a,{exact:!0,path:"/",component:Ne}),Object(H.jsx)(Se.a,{exact:!0,path:"/load-config/:configId",component:Ne}),Object(H.jsx)(Se.a,{exact:!0,path:"/editor",component:ke})]})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(H.jsx)(i.a,{basename:d,children:Object(H.jsx)(Ee,{})}),document.getElementById("root")),Ie()}},[[147,1,2]]]);
//# sourceMappingURL=main.93507ad9.chunk.js.map