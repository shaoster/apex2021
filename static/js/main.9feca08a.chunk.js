(this.webpackJsonpapex2021=this.webpackJsonpapex2021||[]).push([[0],{172:function(e,t,r){},173:function(e,t,r){var n={"./Phase1Action.js":284};function s(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id=173},279:function(e,t){},283:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(27),c=r.n(a),i=(r(171),r(172),r(165)),d=r(34),o=r(294),l=r(295),j=r(296),u=s.a.createContext({}),h=r(290),b=r(291),f=r(292),y=r(4),O={0:"danger",1:"danger",2:"danger",3:"warning",4:"success",5:"info"};var p=function(){var e=Object(n.useContext)(u),t=e.G,r=e.ctx,s=(e.moves,t.growthMindsetPoints),a=t.money,c=t.attention,i=t.energy;return Object(y.jsxs)(h.a,{responsive:!0,bordered:!0,id:"player-info",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"info-label-row",children:[Object(y.jsx)("th",{children:"Day #"}),Object(y.jsx)("th",{children:"Growth Mindset"}),Object(y.jsx)("th",{children:"Money"}),Object(y.jsx)("th",{children:"Attention"}),Object(y.jsx)("th",{children:"Energy"})]})}),Object(y.jsx)("tbody",{children:Object(y.jsxs)("tr",{className:"info-data-row",children:[Object(y.jsx)("td",{children:Object(y.jsx)(b.a,{variant:"dark",children:r.turn})}),Object(y.jsx)("td",{children:Object(y.jsx)(f.a,{now:(100*s/d.c).toPrecision(3),label:s,variant:O[s],animated:s===d.c})}),Object(y.jsx)("td",{children:Object(y.jsx)(b.a,{variant:"warning",children:a})}),Object(y.jsx)("td",{children:Object(y.jsx)(b.a,{variant:"primary",children:c})}),Object(y.jsx)("td",{children:Object(y.jsx)(b.a,{variant:"success",children:i})})]})})]})},g=r(8),x=r(23),m=r(1),C=r(293),v=r(301),w=r(303),M=r(297),N=r(304),k=r(298),P=r(299),T=r(302),A=r(300),I=r(162),S=r.n(I),E=r(35),D=s.a.forwardRef((function(e,t){var r=e.cardId,n=e.slotId;return Object(y.jsx)(v.a,{id:"trigger-"+n,placement:"right",overlay:function(e){return Object(y.jsx)(C.a,Object(m.a)(Object(m.a)({id:"card-preview"},e),{},{children:Object(y.jsx)(L,{cardId:r,onClick:function(e){}})}))},children:Object(y.jsx)("span",{className:"card-reference",ref:t,children:E.a[r].displayName})})}));function L(e){var t=Object(n.useState)(!1),r=Object(x.a)(t,2),s=r[0],a=r[1],c=e.cardId,i=e.slotId,d=e.onClick,h=e.ref,f=Object(n.useContext)(u).ctx,O=E.a[c],p=O.displayName,g=O.image,m=O.description,C=O.moneyCost,v=O.energyCost,k=O.producesGrowthMindset,P=O.producesMoney,T=O.producesAttention,A=O.producesEnergy,I=O.drawsCards,L=O.discardsCards,F=O.gainsCards,G=O.forgetsSelf,B=O.forgetsCards,K=f.activePlayers&&"discard"===f.activePlayers[f.playOrderPos],H=f.activePlayers&&"forget"===f.activePlayers[f.playOrderPos];return Object(y.jsxs)(w.a,{ref:h,onClick:function(){return d(i)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},bg:K||H?"danger":null,border:s?"warning":"secondary",children:[Object(y.jsx)(w.a.Header,{children:Object(y.jsx)(o.a,{fluid:!0,children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(j.a,{xs:4,className:"cost-label",children:"Makes:"}),Object(y.jsx)(j.a,{xs:4}),Object(y.jsx)(j.a,{xs:1,children:Object(y.jsx)(b.a,{variant:"warning",children:P})}),Object(y.jsx)(j.a,{xs:1,children:Object(y.jsx)(b.a,{variant:"primary",children:T})}),Object(y.jsx)(j.a,{xs:1,children:Object(y.jsx)(b.a,{variant:"success",children:A})})]})})}),Object(y.jsxs)(w.a.Body,{children:[Object(y.jsx)(w.a.Title,{children:p}),null!=g?Object(y.jsx)(M.a,{src:g,rounded:!0,className:"card-image"}):Object(y.jsx)(S.a,{width:"256px",height:"128px",className:"card-image"}),Object(y.jsxs)(N.a,{className:"extra-rules",children:[k>0&&Object(y.jsxs)(N.a.Item,{children:["+",k," ",Object(y.jsx)("b",{children:"Growth Mindset"})]}),I>0&&Object(y.jsxs)(N.a.Item,{children:[Object(y.jsx)("b",{children:"Draw"})," ",I]}),L>0&&Object(y.jsxs)(N.a.Item,{children:[Object(y.jsx)("b",{children:"Discard"})," ",L]}),G&&Object(y.jsxs)(N.a.Item,{children:[Object(y.jsx)("b",{children:"Forget"})," ",Object(y.jsx)("em",{children:"Self"})]}),B>0&&Object(y.jsxs)(N.a.Item,{children:[Object(y.jsx)("b",{children:"Forget"})," ",B]}),F.map((function(e){return Object(y.jsxs)(N.a.Item,{children:["Gain ",Object(y.jsx)(D,{cardId:e,slotId:i})]})}))]}),Object(y.jsx)(w.a.Text,{className:"flavor",children:m})]}),Object(y.jsx)(w.a.Footer,{children:Object(y.jsx)(o.a,{fluid:!0,children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(j.a,{xs:4,className:"cost-label",children:"Costs:"}),Object(y.jsx)(j.a,{xs:4}),Object(y.jsx)(j.a,{xs:1,children:Object(y.jsx)(b.a,{variant:"warning",children:C})}),Object(y.jsx)(j.a,{xs:1}),Object(y.jsx)(j.a,{xs:1,children:Object(y.jsx)(b.a,{variant:"success",children:v})})]})})})]})}function F(e){var t=e.actions,r=e.className,n=e.onClick,s=t.map((function(e,t){return Object(y.jsx)(L,{cardId:e,slotId:t,onClick:n},t)}));return Object(y.jsx)(k.a,{className:"action-list-"+r,children:s.length>0?s:Object(y.jsx)(b.a,{children:Object(y.jsx)("h1",{children:"No Actions Available"})})})}var G=function(){var e=Object(n.useContext)(u),t=e.G,r=e.ctx,s=e.moves,a=t.hand,c=t.actionShop,i=t.deck,d=t.discard,o=function(e){},l=r.activePlayers&&"discard"===r.activePlayers[r.playOrderPos],j=r.activePlayers&&"forget"===r.activePlayers[r.playOrderPos],h={Hand:{actions:a,onClick:l?s.discardAction:j?s.forgetAction:s.performAction},Shop:{actions:c,onClick:l?o:s.buyAction},Deck:{actions:Object(g.a)(i).sort(),onClick:o},"Discard Pile":{actions:d,onClick:o}},b=Object(n.useState)("Hand"),f=Object(x.a)(b,2),O=f[0],p=f[1],m=Object.keys(h).map((function(e){return Object(y.jsx)(P.a,{eventKey:e,title:e,children:Object(y.jsx)(F,{actions:h[e].actions,onClick:h[e].onClick,className:e})},e)}));return Object(y.jsxs)(T.a,{id:"actions",activeKey:O,onSelect:function(e){return p(e)},children:[m,Object(y.jsx)(P.a,{eventKey:"next-turn",title:"Next Turn",children:Object(y.jsx)(A.a,{onClick:function(){s.endTurn(),p("Hand")},className:"confirm-next-turn",children:"Confirm End Turn"})},"next-turn")]})};var B=function(e){var t=e.G,r=e.ctx,n=e.moves;return Object(y.jsx)(u.Provider,{value:{G:t,ctx:r,moves:n},children:Object(y.jsxs)(o.a,{fluid:!0,children:[Object(y.jsx)(l.a,{children:Object(y.jsx)(j.a,{children:Object(y.jsx)(p,{})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(j.a,{children:Object(y.jsx)(G,{})})})]})})},K=Object(i.a)({game:d.a,board:B,numPlayers:1}),H=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,305)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),s(e),a(e),c(e)}))};c.a.render(Object(y.jsx)(K,{}),document.getElementById("root")),H()},284:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(34),a={displayName:null,image:null,description:"<FLAVOR>",moneyCost:0,energyCost:0,producesGrowthMindset:0,producesMoney:0,producesAttention:0,producesEnergy:0,drawsCards:0,discardsCards:0,gainsCards:[],forgetsSelf:!1,forgetsCards:0,isBuyable:!0,perform:function(e,t){if(e.energy<=0)return!1;e.energy--,e.growthMindsetPoints=Math.min(s.c,e.growthMindsetPoints+this.producesGrowthMindset),e.money+=this.producesMoney,e.attention+=this.producesAttention,e.energy+=this.producesEnergy;for(var r=0;r<this.drawsCards;r++)Object(s.b)(e,t);return this.discardsCards>0&&e.hand.length>0&&(e.cardsLeftToDiscard=this.discardsCards,t.events.setStage("discard")),this.forgetsCards>0&&e.hand.length>0&&(e.cardsLeftToForget=this.forgetsCards,t.events.setStage("forget")),this.gainsCards.forEach((function(t){return e.discard.push(t)})),!0},buy:function(e,t){return!(e.attention<=0||e.money<this.moneyCost||e.energy<this.energyCost)&&(e.attention--,e.money-=this.moneyCost,e.energy-=this.energyCost,e.discard.push(this.id),!0)}};t.default=[{id:"Card01",displayName:"Card1",description:"Make sure to play this every turn!",producesGrowthMindset:1,isBuyable:!1},{id:"Card02",displayName:"Card2",description:"Getting money lets you buy stuff.",producesMoney:1,producesEnergy:1},{id:"Card03",displayName:"Card3",description:"Sometimes you just want to forget everything.",moneyCost:2,forgetsSelf:!0,forgetsCards:99},{id:"Card04",displayName:"Card4",description:"If you play this, you'll have to pick another card in your hand to discard.",moneyCost:2,drawsCards:3,discardsCards:1},{id:"Card05",displayName:"Card5",description:"Doing too much can make you tired.",moneyCost:2,producesGrowthMindset:1,producesMoney:1,producesEnergy:1,drawsCards:1,gainsCards:["fatigue"]},{id:"Card06",displayName:"Card6",description:"More energy means you can play more actions!",moneyCost:3,producesEnergy:2,drawsCards:1},{id:"Card07",displayName:"Card7",description:"IDK",moneyCost:3},{id:"Card08",displayName:"Card8",description:"IDK",moneyCost:4},{id:"Card09",displayName:"Card9",description:"More money",moneyCost:4,producesMoney:2,producesEnergy:1},{id:"Card10",displayName:"Card10",description:"That's a lot of energy.",moneyCost:4,producesAttention:1,producesEnergy:4},{id:"Card11",displayName:"Card11",description:"Maybe there are better options.",moneyCost:5,producesEnergy:1,drawsCards:2},{id:"Card12",displayName:"Card12",description:"More more money",moneyCost:6,producesMoney:3,producesEnergy:1},{id:"fatigue",displayName:"Fatigue",description:"Better rest up or I'll just get even more tired later.",isBuyable:!1,forgetsSelf:!0}].map((function(e){return Object(n.a)(Object(n.a)({},a),e)}))},34:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return j}));var n=r(1),s=r(8),a=r(3),c=r(35),i=5,d={actionShop:[].concat(Object(s.a)(Array(2).fill("Card02")),Object(s.a)(Array(1).fill("Card06")),Object(s.a)(Array(2).fill("Card09")),Object(s.a)(Array(1).fill("Card10")),Object(s.a)(Array(1).fill("Card12")),Object(s.a)(Object.keys(c.a).filter((function(e){return c.a[e].isBuyable})))).sort(),deck:["Card02","Card01","Card02","Card02","Card01"],hand:[],discard:[],growthMindsetPoints:3,cardsLeftToDiscard:0,cardsLeftToForget:0},o={money:0,attention:1,energy:1};function l(e,t){if(e.hand.length>=8)return!1;if(e.deck.length<=0)for(;e.discard.length>0;)e.deck.push(e.discard.pop());return!(e.deck.length<=0)&&(e.hand.push(e.deck.pop()),!0)}var j={setup:function(e,t){return Object(n.a)(Object(n.a)({},d),o)},moves:{performAction:function(e,t,r){var n=e.hand[r],s=c.a[n];if(!s.perform(e,t))return a.t;e.hand.splice(r,1),s.forgetsSelf||e.discard.push(n)},buyAction:function(e,t,r){console.log(e.actionShop);var n=e.actionShop[r];if(!c.a[n].buy(e,t))return a.t;e.actionShop.splice(r,1)},endTurn:function(e,t){t.events.endTurn()}},turn:{onBegin:function(e,t){return function(e,t){for(console.log(Object(s.a)(e.discard));e.hand.length>0;)e.discard.push(e.hand.pop());console.log(Object(s.a)(e.discard));for(var r=Math.min(5,e.growthMindsetPoints),n=0;n<r;n++)l(e);Object.assign(e,o),e.growthMindsetPoints--}(e)},onEnd:function(e,t){e.growthMindsetPoints<=0&&t.events.endGame("fixed-mindset")},stages:{discard:{moves:{discardAction:function(e,t,r){console.log(e.cardsLeftToDiscard);var n=e.hand[r];e.hand.splice(r,1),e.discard.push(n),0===e.hand.length?e.cardsLeftToDiscard=0:e.cardsLeftToDiscard--,e.cardsLeftToDiscard<=0&&t.events.endStage()}}},forget:{moves:{forgetAction:function(e,t,r){console.log(e.cardsLeftToForget);e.hand[r];e.hand.splice(r,1),0===e.hand.length?e.cardsLeftToForget=0:e.cardsLeftToForget--,e.cardsLeftToForget<=0&&t.events.endStage()}}}}}}},35:function(e,t,r){"use strict";t.a=function(e){var t=e.keys().flatMap((function(t){return e(t).default})),r={};return t.forEach((function(e){r[e.id]=e})),r}(r(173))}},[[283,1,2]]]);
//# sourceMappingURL=main.9feca08a.chunk.js.map